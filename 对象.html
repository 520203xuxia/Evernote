<html>
<head>
  <title>对象</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.16299 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="639"/>
<h1>对象</h1>

<div>
<span><div><div style="text-align: center;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-weight: bold;">对象</span></font></div><div><ol start="1"><li>定义：无序属性的集合，其属性可以包含基本值、对象、函数。</li><li>理解：</li></ol><div>        <img src="对象_files/Image.png" type="image/png" data-filename=""/></div></div><div><br/></div><div><ol start="3"><li>属性的类型：数据属性、访问器属性</li><li>数据属性</li></ol><div>            数据属性包含一个数据值的位置。在这个位置可以读取和写入值。</div></div><div>            数据属性有四个描述其行为的特性。</div><div>            configurable：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 宋体; line-height: 1.5;">表示能否通过</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">delete删除属性从而重新定义属性，能否修改属性的特性，</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">                                    或能否把属性修改为访问器属性，</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">默认为true</span></div><div>                                <img src="对象_files/Image [1].png" type="image/png" data-filename="" style="font-family: PingFang SC;"/></div><div>            enumerable：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">表示能否通过for-in循环返回属性，</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">默认为true</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">                                 <img src="对象_files/Image [2].png" type="image/png" data-filename="" style="font-family: PingFang SC;"/></span></div><div>            writable：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">表示能否修改属性的值，</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">默认为true</span></div><div>            value：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 宋体; line-height: 1.5;">包含该属性的数据值。读取属性值时，从这个位置读；写入属性值时把新值保存</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 宋体; line-height: 1.5;">               在这个位置上，</span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 宋体; line-height: 1.5;-evernote-highlight:true;">默认为</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">undefined</span></span></div><div>               <img src="对象_files/Image [3].png" type="image/png" data-filename="" style="font-family: PingFang SC;"/>  </div><div>-------------------------------------------------------------------------------------</div><div>             <img src="对象_files/Image [4].png" type="image/png" data-filename=""/></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">            要修改属性默认的特性，必须</span><span style="line-height: 1.45;">使用Object.defineProperty()方法</span></div><div><span style="line-height: 1.45;">            <span style="line-height: 1.45;">Object.defineProperty(属性所在的对象,属性的名字,描述符对象)</span></span></div><div>            <img src="对象_files/Image [5].png" type="image/png" data-filename=""/></div><div>            一旦属性定义为不可配置，就不能再变回可配置了</div><div>            <img src="对象_files/Image [6].png" type="image/png" data-filename=""/></div><div><br/></div><div><ol start="5"><li>访问器属性</li></ol><div>            访问器属性不包含数据值，包含的是一对get和set函数，<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">在读写访问器属性时，就是通过这两个方法来进行操作处理的。</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">            <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">访问器属性包含的四个特性</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">：</span></span></div></div><div>            configurable：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 宋体; line-height: 1.5;">表示能否通过</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">delete删除属性从而重新定义属性，能否修改属性的特性，</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">或能否把属性修改为访问器属性，</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">默认为false</span></div><div>                                </div><div>            enumerable：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">表示能否通过for-in循环返回属性，</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">默认为false</span></div><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">                     </span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">    </span></div><div>            get：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 宋体; line-height: 1.5;">在读取属性时调用的函数</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">，</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 250, 165); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;-evernote-highlight:true;">默认为undefined</span></div><div>            set：<span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); color: rgb(0, 0, 0); font-family: 宋体;">在写入属性时调用的函数</span><span style="font-size: 13px; orphans: 2; widows: 2; background-color: rgb(254, 254, 242); font-family: 宋体; line-height: 1.5;">，</span><span style="background-color: rgb(255, 250, 165); font-size: 13px; orphans: 2; widows: 2; font-family: 宋体; line-height: 1.5;-evernote-highlight:true;">默认为</span><span style="background-color: rgb(255, 250, 165); font-size: 13px; orphans: 2; widows: 2; font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.45;-evernote-highlight:true;">undefined</span></div><div>               </div><div>            访问器属性不能直接定义，要通过Object.defineProperty()方法来定义</div><div>            <img src="对象_files/Image [7].png" type="image/png" data-filename=""/></div><div><hr/><div><img src="对象_files/Image [8].png" type="image/png" data-filename=""/></div></div><div><br/></div><div><img src="对象_files/Image [9].png" type="image/png" data-filename=""/></div><div><br/></div><div><img src="对象_files/Image [10].png" type="image/png" data-filename=""/></div><div><ol start="6"><li>定义多个属性</li></ol><div>            利用Object.defineProperties()方法，通过描述符一次定义多个属性，接收两个对象参数：</div><div>            要添加或修改其属性的对象、对象的属性与第一个对象中要添加或修改的属性一一对应。</div><div><br/></div></div><div>            <img src="对象_files/Image [11].png" type="image/png" data-filename=""/></div><div><ol start="7"><li>读取属性的特性</li></ol><div>            Object.getOwnPropertyDescriptor(属性所在对象,要读取的属性的名称);</div></div><div>            <img src="对象_files/Image [12].png" type="image/png" data-filename=""/></div><div>            在JavaScript中，可以针对任何对象(包括DOM，BOM)，使用Object.getOwnPropertyDescriptor()</div><div><ol start="8"><li>创建对象——工厂模式</li></ol></div><div>            <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(0, 0, 0);">考虑到在 ECMAScript 中无法创建类，开发人员就发明了一种函数，用函数来封装以特定接口创建对象的细节，如下面的例子所示：</span></span></div><div>            <img src="对象_files/Image [13].png" type="image/png" data-filename=""/></div><div>            优点：解决了创建多个相似对象的问题（解决了重复实例化的问题）</div><div>            缺点：没有解决对象识别的问题（即怎样知道一个对象的类型）</div><div>                        <img src="对象_files/Image [14].png" type="image/png" data-filename=""/></div><div><ol start="9"><li>创建对象——构造函数模式</li></ol><div>            创建自定义的构造函数，从而定义自定义对象的属性和方法。</div></div><div>            惯例：构造函数始终应该以大写字母开头。</div><div>            <img src="对象_files/Image [15].png" type="image/png" data-filename=""/></div><div>                没有显示的创建对象（new Object）,直接将属性和方法赋给this对象，没有return语句</div><div>            优点：解决了重复实例化的问题，又解决了对象识别问题</div><div>                    <img src="对象_files/Image [16].png" type="image/png" data-filename=""/></div><div>                    <img src="对象_files/Image [17].png" type="image/png" data-filename=""/></div><div>            <span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">要创建 Person 的新实例，必须使用 new 操作符。以这种方式调用构造函数实际上会经历以下 4个步骤：</span></div><div>　　　　(1) 创建一个新对象；</div><div>　　　　(2) 将构造函数的作用域赋给新对象（因此 this 就指向了这个新对象）；</div><div>　　　　(3) 执行构造函数中的代码（为这个新对象添加属性）</div><div><span style="line-height: 1.45;">             (4) 返回新对象。</span></div><div><br/></div><div>            <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">person1 和 person2 分别保存着 Person 的一个不同的实例。这两个对象都有一个 constructor（构造函数）属性，该属性指向 Person，</span></div><div>            <img src="对象_files/Image [18].png" type="image/png" data-filename=""/></div><div>            检测对象类型，instanceof，<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">这个例子中创建的所有对象既是</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">Person</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;"> 的实例，同时也是</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">Object</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; widows: 2; word-spacing: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">的实例，因为所有对象均继承自Object</span></div><div>            <img src="对象_files/Image [19].png" type="image/png" data-filename=""/></div><div>            <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: bold;">创建自定义的构造函数意味着将来可以将它的实例标识为一种特定的类型；而这正是构造函数模式</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: bold;">胜过工厂模式的地方。</span></div><div>            <span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">Person()函数可以通过下列任何一种方式来调用。</span></div><div><br/></div><div>　　　　// 当作构造函数使用</div><div>　　　　var person = new Person(&quot;Nicholas&quot;, 29, &quot;Software Engineer&quot;); </div><div>　　　　person.sayName(); //&quot;Nicholas&quot; </div><div>　　　　// 作为普通函数调用</div><div>　　　　Person(&quot;Greg&quot;, 27, &quot;Doctor&quot;); // 添加到 window，在全局作用域中调用一个函数时，this指向Global对象 </div><div>　　　　window.sayName(); //&quot;Greg&quot; </div><div>　　　　// 在另一个对象的作用域中调用</div><div>　　　　var o = new Object(); </div><div>　　　　Person.call(o, &quot;Kristen&quot;, 25, &quot;Nurse&quot;); </div><div><span style="line-height: 1.45;">             o.sayName(); //&quot;Kristen&quot;</span></div><div><br/></div><div><ol start="10"><li>创建对象——原型模式</li></ol><div>            <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">我们创建的每个函数都有一个 prototype（原型）属性，这个属性是一个指针，指向一个对象，而这个对象的用途是包含可以由特定类型的所有实例共享的属性和方法。</span></div></div><div>            <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">如果按字面意思来理解，那么prototype就是通过调用构造函数而创建的那个对象实例的原型对象。使用原型对象的好处是可以让所有对象实例共享它所包含的属性和方法。换句话说，不必在构造函数中定义对象实例的信息，而是可以将这些信息直接添加到原型对象中。例如：</span></div><div><img src="对象_files/Image [20].png" type="image/png" data-filename=""/></div><div>            <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">通过调用构造函数来创建新对象，而且新对象还会具有相同的属性和方法。<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">但与构造函数模式不同的是，新对象的这些属性和方法是由所有实例共享的。</span></span></div><div><ol><li style="orphans: 2; widows: 2;"><span style="font-size: 14px; font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 20px;">理解原型对象</span></li></ol></div><div>                     无论什么时候，只要创建了一个新函数A，浏览器就会在内存中创建一个对象B，函数A有一个prototype属性，该属性指向函数A的原型对象B。对象B是函数A的原型对象。</div><div><img src="对象_files/Image [21].png" type="image/png" data-filename=""/></div><div>                      对象B的属性constructor指向prototype属性所在函数的指针，即A</div><div><img src="对象_files/Image [22].png" type="image/png" data-filename=""/></div><div>                    当调用构造函数A创建一个新实例后，该实例的内部将包含一个指针，指向构造函数A的原型对象B</div><div><img src="对象_files/Image [23].png" type="image/png" data-filename=""/></div><div>注意：此连接存在于实例与构造函数的原型对象之间，而不是实例与构造函数之间</div><div><img src="对象_files/Image.jpg" type="image/jpeg" data-filename=""/></div><ol><li style="box-sizing: border-box;"><span style="font-size: 10pt; color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.6px;">从上面的图示中可以看到，创建p1对象虽然使用的是Person构造函数，但是对象创建出来之后，这个p1对象其实已经与Person构造函数没有任何关系了，p1对象的[[ prototype ]]属性指向的是Person构造函数的原型对象。</span></li><li style="box-sizing: border-box;"><span style="font-size: 10pt; color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.6px;">如果使用new Person()创建多个对象，则多个对象都会同时指向Person构造函数的原型对象。</span></li><li style="box-sizing: border-box;"><span style="font-size: 10pt; color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.6px;">我们可以手动给这个原型对象添加属性和方法，那么p1,p2,p3…这些对象就会共享这些在原型中添加的属性和方法。</span></li><li style="box-sizing: border-box;"><span style="font-size: 10pt; color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.6px;">如果我们访问p1中的一个属性name，如果在p1对象中找到，则直接返回。如果p1对象中没有找到，则直接去p1对象的[[prototype]]属性指向的原型对象中查找，如果查找到则返回。(如果原型中也没有找到，则继续向上找原型的原型—原型链。 后面再讲)。</span></li><li style="box-sizing: border-box;"><span style="font-size: 10pt; color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.6px;">如果通过p1对象添加了一个属性name，则p1对象来说就屏蔽了原型中的属性name。 换句话说：在p1中就没有办法访问到原型的属性name了。那么如何恢复这个连接呢？使用delete删除p1中的属性name即可：<img src="对象_files/Image [24].png" type="image/png" data-filename="" style="font-family: microsoft yahei; color: rgb(63, 63, 63);"/></span></li><li style="box-sizing: border-box;"><span style="font-size: 10pt; color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.6px;">  通过p1对象只能读取原型中的属性name的值，而不能修改原型中的属性name的值。 p1.name = “李四”; 并不是修改了原型中的值，而是在p1对象中给添加了一个属性name。</span></li></ol><div style="orphans: 2; widows: 2;"><div><span style="color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.59375px;"><img src="对象_files/Image [1].jpg" type="image/jpeg" data-filename="" style="font-family: microsoft yahei; color: rgb(63, 63, 63);"/></span></div></div><div style="orphans: 2; widows: 2;"><span style="color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.59375px;">如何确定实例对象与原型对象之间是否存在关系？</span></div><div style="orphans: 2; widows: 2;"><div><span style="color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.59375px;"><img src="对象_files/Image [25].png" type="image/png" data-filename="" style="font-family: microsoft yahei; color: rgb(63, 63, 63);"/></span></div></div><div style="orphans: 2; widows: 2;"><span style="color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 30.59375px;">使用ES5增加的新方法：</span></div><div><img src="对象_files/Image [26].png" type="image/png" data-filename=""/></div><div>如何检测一个属性是存在于实例中，还是存在于原型中？</div><div><img src="对象_files/Image [27].png" type="image/png" data-filename=""/></div><div><img src="对象_files/Image [28].png" type="image/png" data-filename=""/></div><div><img src="对象_files/Image [29].png" type="image/png" data-filename=""/></div><div>如何获得原型属性的描述符呢？</div><div><img src="对象_files/Image [30].png" type="image/png" data-filename=""/></div><div><img src="对象_files/Image [31].png" type="image/png" data-filename=""/></div><div><br/></div><div><ol start="2"><li>原型与in操作符</li></ol></div><div>            <img src="对象_files/Image [32].png" type="image/png" data-filename=""/></div><div>            for-in，返回所有能够通过对象访问的，可枚举的属性</div><div>            还可使用Object.keys()方法</div><div>            <img src="对象_files/Image [33].png" type="image/png" data-filename=""/></div><div><br/></div><div><ol start="3"><li>更简单的原型语法</li></ol><div>            用一个包含所有属性和方法的对象字面量来重写整个原型对象。</div></div><div>            <img src="对象_files/Image [34].png" type="image/png" data-filename=""/></div><div>            <img src="对象_files/Image [35].png" type="image/png" data-filename=""/></div><div>            <img src="对象_files/Image [36].png" type="image/png" data-filename=""/></div><div><ol start="4"><li>原型的动态性</li></ol><div>            对原型对象所做的任何修改都能立即从实例对象中反应出来。但如果是重写整个原型对象，前面这句话就不成立了</div><div>            图解如下：</div></div><div>            <img src="对象_files/Image [37].png" type="image/png" data-filename=""/></div><div>            重写原型对象切断了现有原型与与任何之前已经存在的对象实例之间的联系，他们引用的仍然是最初的原型。</div><div><ol start="5"><li>原生对象的原型</li></ol></div><div>            原生的引用类型（Object、Array、String，等等）都是采用原型模式创建的，都在其构造函数的原型上定义了方法。</div><div><ol start="6"><li>原型对象的问题</li></ol></div><div>            最大问题是由其共享的本质性造成的。省略了为构造函数传初始化参数，结果所有实例都具有相同的属性值。</div><div><br/></div><div><br/></div><div><ol start="11"><li>创建对象——组合使用构造函数模式和原型模式</li></ol></div><div>            创建自定义类型的最常见方式，就是组合使用构造函数模式和原型模式。构造函数模式用于定义实例属性，而原型模式用于定义方法和共享的属性。</div><div>            优点：每个实例都会有自己的一份实例属性的副本，但同时又共享这对方法的引用，最大限度的节省了内存。</div><div><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">            这种构造函数与原型组合的模式,是ECMAScript中使用最广泛、认同度最高的一种创建自定义类型的方法。可以说，这是用来定义引用<span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;">类型的一种默认模式。</span></span></div><div><img src="对象_files/Image [38].png" type="image/png" data-filename=""/></div><div><br/></div><div><ol start="12"><li>创建对象——动态原型模式</li></ol></div><div>            采用这种模式创建的对象，不能使用对象字面量重写原型</div><div>            <img src="对象_files/Image [39].png" type="image/png" data-filename=""/></div><div><br/></div><div><ol start="13"><li>寄生构造函数模式</li></ol></div><div>            建议不用</div><div><ol start="14"><li>稳妥构造函数模式</li></ol></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 